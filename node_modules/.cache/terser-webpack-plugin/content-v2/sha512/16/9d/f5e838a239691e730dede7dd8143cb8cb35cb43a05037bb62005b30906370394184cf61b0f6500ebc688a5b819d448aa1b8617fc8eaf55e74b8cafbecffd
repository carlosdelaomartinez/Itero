{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=12)}([function(t,e,n){t.exports=n.p+\"images/0844fd034db2ec287b426c27869ea354.png\"},function(t,e,n){t.exports=n.p+\"images/2f4dc122b0d449c01edb8a06fc278b77.png\"},function(t,e,n){t.exports=n.p+\"images/6756bfb01a8ef61cc97e36576024eed5.png\"},function(t,e,n){t.exports=n.p+\"images/22204c350c877319a524c2b0be763d75.png\"},function(t,e,n){\"use strict\";var r=n(5),i=n(8);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),c=[\"'\"].concat(l),u=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(c),f=[\"/\",\"?\",\"#\"],p=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,\"javascript:\":!0},m={javascript:!0,\"javascript:\":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},g=n(9);function b(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var o=t.indexOf(\"?\"),a=-1!==o&&o<t.indexOf(\"#\")?\"?\":\"#\",l=t.split(a);l[0]=l[0].replace(/\\\\/g,\"/\");var b=t=l.join(a);if(b=b.trim(),!n&&1===t.split(\"#\").length){var w=h.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var S=s.exec(b);if(S){var C=(S=S[0]).toLowerCase();this.protocol=C,b=b.substr(S.length)}if(n||S||b.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var D=\"//\"===b.substr(0,2);!D||S&&m[S]||(b=b.substr(2),this.slashes=!0)}if(!m[S]&&(D||S&&!y[S])){for(var O,I,M=-1,Y=0;Y<f.length;Y++){-1!==(x=b.indexOf(f[Y]))&&(-1===M||x<M)&&(M=x)}-1!==(I=-1===M?b.lastIndexOf(\"@\"):b.lastIndexOf(\"@\",M))&&(O=b.slice(0,I),b=b.slice(I+1),this.auth=decodeURIComponent(O)),M=-1;for(Y=0;Y<u.length;Y++){var x;-1!==(x=b.indexOf(u[Y]))&&(-1===M||x<M)&&(M=x)}-1===M&&(M=b.length),this.host=b.slice(0,M),b=b.slice(M),this.parseHost(),this.hostname=this.hostname||\"\";var R=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!R)for(var X=this.hostname.split(/\\./),_=(Y=0,X.length);Y<_;Y++){var j=X[Y];if(j&&!j.match(p)){for(var k=\"\",A=0,P=j.length;A<P;A++)j.charCodeAt(A)>127?k+=\"x\":k+=j[A];if(!k.match(p)){var T=X.slice(0,Y),E=X.slice(Y+1),W=j.match(v);W&&(T.push(W[1]),E.unshift(W[2])),E.length&&(b=\"/\"+E.join(\".\")+b),this.hostname=T.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=r.toASCII(this.hostname));var F=this.port?\":\"+this.port:\"\",L=this.hostname||\"\";this.host=L+F,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==b[0]&&(b=\"/\"+b))}if(!d[C])for(Y=0,_=c.length;Y<_;Y++){var q=c[Y];if(-1!==b.indexOf(q)){var K=encodeURIComponent(q);K===q&&(K=escape(q)),b=b.split(q).join(K)}}var U=b.indexOf(\"#\");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var N=b.indexOf(\"?\");if(-1!==N?(this.search=b.substr(N),this.query=b.substr(N+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,N)):e&&(this.search=\"\",this.query={}),b&&(this.pathname=b),y[C]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){F=this.pathname||\"\";var B=this.search||\"\";this.path=F+B}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",n=this.pathname||\"\",r=this.hash||\"\",o=!1,s=\"\";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&\"?\"+s||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||y[e])&&!1!==o?(o=\"//\"+(o||\"\"),n&&\"/\"!==n.charAt(0)&&(n=\"/\"+n)):o||(o=\"\"),r&&\"#\"!==r.charAt(0)&&(r=\"#\"+r),a&&\"?\"!==a.charAt(0)&&(a=\"?\"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace(\"#\",\"%23\"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,\"\"===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),l=0;l<h.length;l++){var c=h[l];\"protocol\"!==c&&(n[c]=t[c])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname=\"/\"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var u=Object.keys(t),f=0;f<u.length;f++){var p=u[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var v=(t.pathname||\"\").split(\"/\");v.length&&!(t.host=v.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==v[0]&&v.unshift(\"\"),v.length<2&&v.unshift(\"\"),n.pathname=v.join(\"/\")}if(n.search=t.search,n.query=t.query,n.host=t.host||\"\",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||\"\",g=n.search||\"\";n.path=d+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&\"/\"===n.pathname.charAt(0),w=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),S=w||b||n.host&&t.pathname,C=S,D=n.pathname&&n.pathname.split(\"/\")||[],O=(v=t.pathname&&t.pathname.split(\"/\")||[],n.protocol&&!y[n.protocol]);if(O&&(n.hostname=\"\",n.port=null,n.host&&(\"\"===D[0]?D[0]=n.host:D.unshift(n.host)),n.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===v[0]?v[0]=t.host:v.unshift(t.host)),t.host=null),S=S&&(\"\"===v[0]||\"\"===D[0])),w)n.host=t.host||\"\"===t.host?t.host:n.host,n.hostname=t.hostname||\"\"===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,D=v;else if(v.length)D||(D=[]),D.pop(),D=D.concat(v),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(O)n.hostname=n.host=D.shift(),(R=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.href=n.format(),n}if(!D.length)return n.pathname=null,n.search?n.path=\"/\"+n.search:n.path=null,n.href=n.format(),n;for(var I=D.slice(-1)[0],M=(n.host||t.host||D.length>1)&&(\".\"===I||\"..\"===I)||\"\"===I,Y=0,x=D.length;x>=0;x--)\".\"===(I=D[x])?D.splice(x,1):\"..\"===I?(D.splice(x,1),Y++):Y&&(D.splice(x,1),Y--);if(!S&&!C)for(;Y--;Y)D.unshift(\"..\");!S||\"\"===D[0]||D[0]&&\"/\"===D[0].charAt(0)||D.unshift(\"\"),M&&\"/\"!==D.join(\"/\").substr(-1)&&D.push(\"\");var R,X=\"\"===D[0]||D[0]&&\"/\"===D[0].charAt(0);O&&(n.hostname=n.host=X?\"\":D.length?D.shift():\"\",(R=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift()));return(S=S||n.host&&D.length)&&!X&&D.unshift(\"\"),D.length?n.pathname=D.join(\"/\"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s=\"object\"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,l=36,c=1,u=26,f=38,p=700,v=72,d=128,m=\"-\",y=/^xn--/,g=/[^\\x20-\\x7E]/,b=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,w={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},S=l-c,C=Math.floor,D=String.fromCharCode;function O(t){throw new RangeError(w[t])}function I(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function M(t,e){var n=t.split(\"@\"),r=\"\";return n.length>1&&(r=n[0]+\"@\",t=n[1]),r+I((t=t.replace(b,\".\")).split(\".\"),e).join(\".\")}function Y(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function x(t){return I(t,(function(t){var e=\"\";return t>65535&&(e+=D((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=D(t)})).join(\"\")}function R(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function X(t,e,n){var r=0;for(t=n?C(t/p):t>>1,t+=C(t/e);t>S*u>>1;r+=l)t=C(t/S);return C(r+(S+1)*t/(t+f))}function _(t){var e,n,r,i,o,s,a,f,p,y,g,b=[],w=t.length,S=0,D=d,I=v;for((n=t.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&O(\"not-basic\"),b.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<w;){for(o=S,s=1,a=l;i>=w&&O(\"invalid-input\"),((f=(g=t.charCodeAt(i++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:l)>=l||f>C((h-S)/s))&&O(\"overflow\"),S+=f*s,!(f<(p=a<=I?c:a>=I+u?u:a-I));a+=l)s>C(h/(y=l-p))&&O(\"overflow\"),s*=y;I=X(S-o,e=b.length+1,0==o),C(S/e)>h-D&&O(\"overflow\"),D+=C(S/e),S%=e,b.splice(S++,0,D)}return x(b)}function j(t){var e,n,r,i,o,s,a,f,p,y,g,b,w,S,I,M=[];for(b=(t=Y(t)).length,e=d,n=0,o=v,s=0;s<b;++s)(g=t[s])<128&&M.push(D(g));for(r=i=M.length,i&&M.push(m);r<b;){for(a=h,s=0;s<b;++s)(g=t[s])>=e&&g<a&&(a=g);for(a-e>C((h-n)/(w=r+1))&&O(\"overflow\"),n+=(a-e)*w,e=a,s=0;s<b;++s)if((g=t[s])<e&&++n>h&&O(\"overflow\"),g==e){for(f=n,p=l;!(f<(y=p<=o?c:p>=o+u?u:p-o));p+=l)I=f-y,S=l-y,M.push(D(R(y+I%S,0))),f=C(I/S);M.push(D(R(f,0))),o=X(n,w,r==i),n=0,++r}++n,++e}return M.join(\"\")}a={version:\"1.4.1\",ucs2:{decode:Y,encode:x},decode:_,encode:j,toASCII:function(t){return M(t,(function(t){return g.test(t)?\"xn--\"+j(t):t}))},toUnicode:function(t){return M(t,(function(t){return y.test(t)?_(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(6)(t),n(7))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){\"use strict\";t.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){\"use strict\";e.decode=e.parse=n(10),e.encode=e.stringify=n(11)},function(t,e,n){\"use strict\";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||\"&\",n=n||\"=\";var s={};if(\"string\"!=typeof t||0===t.length)return s;var a=/\\+/g;t=t.split(e);var h=1e3;o&&\"number\"==typeof o.maxKeys&&(h=o.maxKeys);var l=t.length;h>0&&l>h&&(l=h);for(var c=0;c<l;++c){var u,f,p,v,d=t[c].replace(a,\"%20\"),m=d.indexOf(n);m>=0?(u=d.substr(0,m),f=d.substr(m+1)):(u=d,f=\"\"),p=decodeURIComponent(u),v=decodeURIComponent(f),r(s,p)?i(s[p])?s[p].push(v):s[p]=[s[p],v]:s[p]=v}return s};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},function(t,e,n){\"use strict\";var r=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};t.exports=function(t,e,n,a){return e=e||\"&\",n=n||\"=\",null===t&&(t=void 0),\"object\"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(r(s))+n;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(r(t))})).join(e):a+encodeURIComponent(r(t[s]))})).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):\"\"};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){\"use strict\";n.r(e);var r=n(0),i=n.n(r),o=n(1),s=n.n(o);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h,l,c,u=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.xpos=e,this.ypos=n,this.velX=r,this.velY=i}var e,n,r;return e=t,(n=[{key:\"move\",value:function(t){var e=t/Object.FRAME_RATE_TIME_CHANGE;this.xpos=this.xpos+this.velX*e,this.ypos=this.ypos+this.velY*e}}])&&a(e.prototype,n),r&&a(e,r),t}();c=1e3/60,(l=\"FRAME_RATE_TIME_CHANGE\")in(h=u)?Object.defineProperty(h,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[l]=c;var f=u;function p(t){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return!e||\"object\"!==p(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(t){function e(t){var n;return v(this,e),(n=m(this,y(e).call(this))).carImage=t.carImage,n.width=t.width+t.optLength,n.povToggled=t.povToggled,n.xpos=t.xpos+t.offset,n.ypos=t.ypos,n.velX=t.velX,n.velY=t.velY,n.optLength=t.optLength,n.height=t.height,n.playerCollision=!1,n.collidedWidthId=\"\",n.time=t.time,n.first=t.first,n.direction=t.direction,n.carImageY=n.getRandomCarPosition(),n.carDirection=n.direction===j.FORWARD?128:640,n.id=\"\".concat(Math.round(Math.random()*n.xpos)).concat(Math.round(Math.random()*n.ypos)).concat(Math.round(n.time)),n.rotationSpeed=0,n.rotating=!1,n.rotateDirection=!1,n.setCenter(),n.handleKeys(),n}var n,r,i;return g(e,t),n=e,(r=[{key:\"getRandomCarPosition\",value:function(){return Math.floor(12*Math.random())/12*768}},{key:\"handleKeys\",value:function(){}},{key:\"setCenter\",value:function(){this.centerX=this.xpos+this.width/2,this.centerY=this.ypos+this.height/2}},{key:\"move\",value:function(t){var e=t/(1e3/60);Math.abs(this.velX)>3&&(this.velX=5*Math.sign(this.velX)),Math.abs(this.velY)>3&&(this.velY=5*Math.sign(this.velY)),this.xpos+=this.velX*e,this.ypos+=this.velY*e,this.centerX+=this.velX*e,this.centerY+=this.velY*e}},{key:\"draw\",value:function(t){var e=new Image;e.src=s.a,t.beginPath(),!0===this.rotating?(this.rotateCarImage(this.rotateDirection),t.save(),t.translate(this.xpos,this.ypos),t.rotate(20*Math.PI/180),t.drawImage(e,this.carDirection,this.carImageY+13,60,40,0,0,this.width,this.height),t.restore()):t.drawImage(e,this.carDirection,this.carImageY+13,60,40,this.xpos,this.ypos,this.width,this.height),t.closePath()}},{key:\"rotateCarImage\",value:function(t){this.rotationSpeed+=1,t===e.CLOCKWISE&&3===this.rotationSpeed?(this.carDirection={0:64,64:128,128:192,192:256,256:320,320:384,384:448,448:512,512:576,576:640,640:704,704:768,768:832,832:896,896:0}[this.carDirection],this.rotationSpeed=0):t==e.COUNTERCLOCKWISE&&3===this.rotationSpeed&&(this.carDirection={0:896,64:0,128:64,192:128,256:192,320:256,384:320,448:384,512:448,576:512,640:576,704:640,768:704,832:768,896:832}[this.carDirection],this.rotationSpeed=0)}},{key:\"startRotateEvent\",value:function(t){var n=this;this.rotateDirection=1===t?e.CLOCKWISE:e.COUNTERCLOCKWISE,this.rotating=!0,setTimeout((function(){n.rotating=!1}),1500)}}])&&d(n.prototype,r),i&&d(n,i),e}(f);w(S,\"CLOCKWISE\",\"CLOCKWISE\"),w(S,\"COUNTERCLOCKWISE\",\"COUNTERCLOCKWISE\");var C=function(t){function e(t){var n;return v(this,e),(n=m(this,y(e).call(this,t))).color=\"#7cfc00\",n.weight=500,n}return g(e,t),e}(S),D=function(t){function e(t){var n;return v(this,e),(n=m(this,y(e).call(this,t))).color=\"#565257\",n.weight=300,n}return g(e,t),e}(S),O=function(t){function e(t){var n;return v(this,e),(n=m(this,y(e).call(this,t))).color=\"#EDC9AF\",n.weight=100,n}return g(e,t),e}(S),I=n(2),M=n.n(I);function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.xpos=e.xpos,this.velX=-.15,this.width=.6*N.X_DIMS}var e,n,r;return e=t,(n=[{key:\"move\",value:function(t){var e=t/(1e3/60);this.xpos+=this.velX*e}},{key:\"draw\",value:function(t){var e=new Image;e.src=M.a,t.beginPath(),t.drawImage(e,0,0,this.width,139,this.xpos,0,this.width,.25*N.Y_DIMS),t.closePath()}}])&&Y(e.prototype,n),r&&Y(e,r),t}();function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.width=.06*N.X_DIMS,this.height=.066*N.Y_DIMS,this.optLength=0,this.bgVel={x:-20,y:0},this.mgVel={x:-4,y:0},this.fgVel={x:-4,y:0},this.bgY=.35*N.Y_DIMS,this.mgY=.6*N.Y_DIMS,this.fgY=.85*N.Y_DIMS,this.yOffset=.1*N.Y_DIMS,this.game=e}var e,n,r;return e=t,(n=[{key:\"pushMoreRoads\",value:function(e){this.paths=this.generateLengthPojos(),this.generateRoads(this.paths[0],this.paths[1],this.paths[2],t.FORWARD,e)}},{key:\"pushMoreRevRoads\",value:function(e){this.revPaths=this.generateLengthPojos(),this.generateRoads(this.revPaths[0],this.revPaths[1],this.revPaths[2],t.BACKWARDS,e)}},{key:\"handleMovingBackground\",value:function(){var t=this.game.peicesToDraw.background[0],e=this.game.peicesToDraw.background[this.game.peicesToDraw.background.length-1];t.xpos+t.width<0&&(this.game.peicesToDraw.background.push(new x({xpos:e.xpos+e.width})),this.game.peicesToDraw.background.shift())}},{key:\"pushStartRoads\",value:function(){this.paths=this.generateLengthPojos(),this.revPaths=this.generateLengthPojos(),this.generateRoads(this.revPaths[0],this.revPaths[1],this.revPaths[2],t.BACKWARDS),this.generateRoads(this.paths[0],this.paths[1],this.paths[2],t.FORWARD),this.pushCityBackgrounds()}},{key:\"pushCityBackgrounds\",value:function(){for(var t=0;t<1.8*N.X_DIMS;t+=.6*N.X_DIMS)this.game.peicesToDraw.background.push(new x({xpos:t}))}},{key:\"generateRoads\",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.genRoad(C,this.bgVel,n,!1,i,this.bgY,r),this.genRoad(D,this.mgVel,e,!0,i,this.mgY,r),this.genRoad(O,this.fgVel,t,!1,i,this.fgY,r)}},{key:\"genRoad\",value:function(e,n,r,i,o,s,a){var h=a===t.FORWARD?0:r.length-this.width;t.BACKWARDS;for(var l=0;l<N.X_DIMS;l+=this.width)if(r[l]){var c=void 0;c=l===h;var u={xpos:l,ypos:a===t.FORWARD?s:s-this.yOffset,velX:a===t.FORWARD?n.x:-n.x,velY:a===t.FORWARD?n.y:-n.y,width:this.width,optLength:this.optLength,height:this.height,povToggled:i,offset:0===o?0:a===t.FORWARD?N.X_DIMS:-N.X_DIMS,time:o,first:c,direction:a===t.FORWARD?t.FORWARD:t.BACKWARDS};a===t.FORWARD?this.game.forwardCars+=1:this.game.revCars+=1;var f=new e(u);this.game.peicesToDraw.paths[f.id]=f}}},{key:\"generateLengthPojos\",value:function(){for(var t=[[],[],[]],e=0;e<N.X_DIMS;)for(var n=Math.round(2*Math.random()),r=0;r<this.width;r+=this.width){switch(n){case 0:t[0][e]=!0,t[1][e]=!1,t[2][e]=!1;break;case 1:t[0][e]=!1,t[1][e]=!0,t[2][e]=!1;break;case 2:t[0][e]=!1,t[1][e]=!1,t[2][e]=!0}e++}return t}},{key:\"povChange\",value:function(){}}])&&R(e.prototype,n),r&&R(e,r),t}();X(_,\"FORWARD\",\"FORWARD\"),X(_,\"BACKWARDS\",\"BACKWARDS\");var j=_,k=n(3),A=n.n(k);function P(t){return(P=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(t){function e(){var t,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=this,(t=!(r=E(e).call(this))||\"object\"!==P(r)&&\"function\"!=typeof r?W(n):r).height=.05*N.Y_DIMS,t.width=.025*N.X_DIMS,t.xpos=N.X_DIMS/2,t.ypos=N.Y_DIMS-t.height,t.velX=0,t.velY=0,t.color=\"red\",t.playerCollision=!0,t.centerX=t.xpos+t.width/2,t.centerY=t.ypos+t.height/2,t.handleKeys.bind(W(t))(),t.animationX=0,t.animationY=210,t.animationCounter=0,t.animationDirection=\"down\",t}var n,r,i;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,t),n=e,(r=[{key:\"handleKeys\",value:function(){var t=this;document.addEventListener(\"keydown\",(function(e){switch(e.keyCode){case 65:t.animationY=250,t.velX<2&&(t.velX=-.05,t.centerX+=.02*-N.X_DIMS);break;case 68:t.animationY=300,t.velX>-2&&(t.velX=.05,t.centerX+=.02*N.X_DIMS);break;case 87:t.animationY=350,t.velY>-2&&(t.velY=-.05,t.centerY+=.042*-N.Y_DIMS);break;case 83:t.animationY=200,t.velY<2&&(t.velY=.05,t.centerY+=.042*N.Y_DIMS)}}))}},{key:\"move\",value:function(t){var e=t/(1e3/60);this.centerY+this.velY>N.Y_DIMS-this.height?(this.centerY=N.Y_DIMS-this.height,this.velY=0):this.ypos<=0?(this.centerY=1,this.velY=-.05):this.centerY+=this.velY*e,this.centerX+=this.velX*e}},{key:\"draw\",value:function(t){this.idle();var e=new Image;e.src=A.a,t.drawImage(e,this.animationX,this.animationY,35,40,this.centerX,this.centerY,this.width,this.height)}},{key:\"idle\",value:function(){10===this.animationCounter&&(this.animationX={0:50,50:100,100:0}[this.animationX],this.animationCounter=0),this.animationCounter+=1}}])&&T(n.prototype,r),i&&T(n,i),e}(f);function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.peicesToDraw={paths:{},player:\"\",background:[]},this.addPlayer(),this.recipientSpeedMod=1.5,this.colliderSpeedMod=.5,this.collisions=0,this.music=!0,this.startGameMusic(),this.forwardCars=0,this.revCars=0,this.level=new j(this),this.level.pushStartRoads()}var e,n,r;return e=t,(n=[{key:\"startGameMusic\",value:function(){var t=new Audio(\"../src/GameMusic.ogg\");t.addEventListener(\"ended\",(function(){t.currentTime=0,t.play()})),t.play()}},{key:\"addPlayer\",value:function(){this.peicesToDraw.player=new L}},{key:\"colorBackground\",value:function(e){e.fillStyle=\"gray\",e.fillRect(0,0,t.X_DIMS,t.Y_DIMS);var n=new Image;n.src=i.a,e.drawImage(n,0,0,480,160,0,0,t.X_DIMS,.2*t.Y_DIMS),e.fillStyle=\"#807E78\"}},{key:\"step\",value:function(e){for(var n in this.level.handleMovingBackground(),this.checkForPlatformCollisions(),this.peicesToDraw.paths){this.peicesToDraw.player.move(e);var r=this.peicesToDraw.paths[n];r.xpos+r.width<=0||r.ypos+r.width<=0||r.xpos>t.X_DIMS||r.ypos>t.Y_DIMS?(this.forwardCars<=t.X_DIMS/this.level.width?this.level.pushMoreRoads(e):this.revCars<=t.X_DIMS/this.level.width&&this.level.pushMoreRevRoads(e),r.direction===j.FORWARD?this.forwardCars--:this.revCars--,delete this.peicesToDraw.paths[n]):r.move(e)}this.peicesToDraw.background.forEach((function(t){return t.move(e)}))}},{key:\"checkForPlatformCollisions\",value:function(){var e=this.peicesToDraw.player;for(var n in this.peicesToDraw.paths){var r=this.peicesToDraw.paths[n];for(var i in this.peicesToDraw.paths){var o=this.peicesToDraw.paths[i];if(r.id!==o.id&&!0===this.checkCollision(r,o)&&r.colllidedWithId!==o.id&&o.colllidedWithId!==r.id){var s=this.getCollisionModifier(r,o),a=void 0,h=void 0;Math.abs(r.velX)+Math.abs(r.velY)>Math.abs(o.velX)+Math.abs(o.velY)?(a=r,h=o):(a=o,h=r),!0===a.playerCollision?(h.velY=(h.velY+a.velY)*s[1]*this.recipientSpeedMod,a.velY=(a.velY-h.velY)*this.colliderSpeedMod,h.velX=(h.velX+a.velX)*s[0]*this.recipientSpeedMod,a.velX=(a.velX-h.velX)*this.colliderSpeedMod,h.playerCollision=!0,h.colllidedWithId=a.id,a.colllidedWithId=h.id,h.startRotateEvent(s[3]),this.collisions+=1):!0===h.playerCollision&&(h.velY=(h.velY+a.velY)*s[1]*this.recipientSpeedMod,a.velY=(a.velY-h.velY)*this.colliderSpeedMod,h.velX=(h.velX+a.velX)*s[0]*this.recipientSpeedMod,a.velY=(a.velY-h.velY)*this.colliderSpeedMod,h.color=\"green\",a.color=\"blue\",a.playerCollision=!0,h.colllidedWithId=a.id,a.colllidedWithId=h.id,h.startRotateEvent(s[3]),this.collisions+=1)}}if(this.checkCollision(e,r)){var l=this.getCollisionModifier(e,r);new Audio(\"../src/collision.mp3\").play(),r.color=\"blue\",e.color=\"blue\",r.velX=0,r.velY=0,r.velX+=3*l[0],r.velY+=3*l[1],r.playerCollision=!0,r.colllidedWithId=\"\",r.startRotateEvent(l[3]),this.collisions+=1}else setTimeout((function(){e.color=\"red\"}),1e4);!0===r.rotating&&(r.xpos+r.width>t.X_DIMS?(r.xpos=t.X_DIMS-r.width,r.setCenter(),r.velX=-1*r.velX):r.xpos<0?(r.xpos=0,r.setCenter(),r.velX=-1*r.velX):r.ypos+r.height>t.Y_DIMS?(r.ypos=t.Y_DIMS-r.height,r.setCenter(),r.velY=-1*r.velY):r.ypos<.2*t.Y_DIMS&&(r.ypos=.2*t.Y_DIMS,r.setCenter(),r.velY=-1*r.velY))}}},{key:\"checkCollision\",value:function(t,e){return Math.abs(t.centerX-e.centerX)<(e.width+t.width)/2&&Math.abs(t.centerY-e.centerY)<(t.height+e.height)/2&&(!0===t.playerCollision||!0===e.playerCollision)}},{key:\"getCollisionModifier\",value:function(t,e){switch((t.centerX>e.centerX?\"Xtrue\":\"Xfalse\")+(t.centerY>e.centerY?\"true\":\"Yfalse\")){case\"Xtruetrue\":return[-1,-1,0];case\"XtrueYfalse\":return[-1,1,1];case\"Xfalsetrue\":return[1,-1,1];case\"XfalseYfalse\":return[1,1,0]}}}])&&q(e.prototype,n),r&&q(e,r),t}();K(U,\"Y_DIMS\",700),K(U,\"X_DIMS\",1e3);var N=U;n(4);function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var z=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.game=e,this.ctx=n,this.fontSize=Math.round(18*N.X_DIMS/800)}var e,n,r;return e=t,(n=[{key:\"draw\",value:function(t){for(var e in this.ctx.clearRect(0,0,N.X_DIMS,N.Y_DIMS),this.game.colorBackground(t),this.game.peicesToDraw.background.forEach((function(e){return e.draw(t)})),this.game.peicesToDraw.paths)this.game.peicesToDraw.paths[e].draw(t);this.game.peicesToDraw.player.draw(t),t.font=\"\".concat(this.fontSize,\"px Arial\"),t.fillStyle=\"black\",t.fillText(\"Collision Counter: \".concat(this.game.collisions),.01*N.X_DIMS,N.Y_DIMS-this.fontSize/2)}},{key:\"begin\",value:function(){this.previousTime=0,requestAnimationFrame(this.animate.bind(this))}},{key:\"animate\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=t-this.previousTime;this.game.step(e),this.draw(this.ctx),this.previousTime=t,requestAnimationFrame(this.animate.bind(this))}}])&&B(e.prototype,n),r&&B(e,r),t}();document.addEventListener(\"DOMContentLoaded\",(function(){var t=document.querySelector(\"canvas\");t.width=N.X_DIMS,t.height=N.Y_DIMS;var e=t.getContext(\"2d\"),n=new N;new z(n,e).begin()}))}]);","extractedComments":[]}