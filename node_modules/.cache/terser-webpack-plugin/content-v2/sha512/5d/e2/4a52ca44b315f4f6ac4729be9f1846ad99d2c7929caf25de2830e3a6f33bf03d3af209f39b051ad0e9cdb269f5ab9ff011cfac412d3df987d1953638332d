{"code":"!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=24)}([function(t,e,i){t.exports=i.p+\"images/0844fd034db2ec287b426c27869ea354.png\"},function(t,e,i){t.exports=i.p+\"images/2f4dc122b0d449c01edb8a06fc278b77.png\"},function(t,e,i){t.exports=i.p+\"images/0fca36c7d0c9d75cb6625448458f01fc.png\"},function(t,e,i){t.exports=i.p+\"images/8aef5d45a2c3e931a3399e14f51f0dc2.png\"},function(t,e,i){t.exports=i.p+\"images/10fb4af910fa353c893031f1ec3ae015.png\"},function(t,e,i){t.exports=i.p+\"images/1d714ca030cc783948d2cc97ddb0e2f2.png\"},function(t,e,i){t.exports=i.p+\"images/86aad332584beae48d4057e2d9db270f.png\"},function(t,e,i){t.exports=i.p+\"images/9f12d7853f466df0e5631c4f96e0aac4.png\"},function(t,e,i){t.exports=i.p+\"images/a325a8e84b60b192b4d5f7b372c56164.png\"},function(t,e,i){t.exports=i.p+\"images/b0a6366acd8cab26a3bf44efd537d942.png\"},function(t,e,i){t.exports=i.p+\"images/c2e41063c8a6944aab1e92bb93c29542.png\"},function(t,e,i){t.exports=i.p+\"images/cb9ea7f8548a710b241ade4114e3d14c.png\"},function(t,e,i){t.exports=i.p+\"images/8e5f7f76b77e002c231c93d7a866e0dd.png\"},function(t,e,i){t.exports=i.p+\"images/6756bfb01a8ef61cc97e36576024eed5.png\"},function(t,e,i){t.exports=i.p+\"images/22204c350c877319a524c2b0be763d75.png\"},function(t,e,i){t.exports=i.p+\"images/c26f6ebc86569250531b0f292e274ebc.png\"},function(t,e,i){\"use strict\";var n=i(17),o=i(20);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=b(t));return t instanceof r?t.format():r.prototype.format.call(t)},e.Url=r;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),c=[\"'\"].concat(l),u=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(c),f=[\"/\",\"?\",\"#\"],p=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,\"javascript:\":!0},m={javascript:!0,\"javascript:\":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},y=i(21);function b(t,e,i){if(t&&o.isObject(t)&&t instanceof r)return t;var n=new r;return n.parse(t,e,i),n}r.prototype.parse=function(t,e,i){if(!o.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var r=t.indexOf(\"?\"),a=-1!==r&&r<t.indexOf(\"#\")?\"?\":\"#\",l=t.split(a);l[0]=l[0].replace(/\\\\/g,\"/\");var b=t=l.join(a);if(b=b.trim(),!i&&1===t.split(\"#\").length){var S=h.exec(b);if(S)return this.path=b,this.href=b,this.pathname=S[1],S[2]?(this.search=S[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var w=s.exec(b);if(w){var M=(w=w[0]).toLowerCase();this.protocol=M,b=b.substr(w.length)}if(i||w||b.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var D=\"//\"===b.substr(0,2);!D||w&&m[w]||(b=b.substr(2),this.slashes=!0)}if(!m[w]&&(D||w&&!g[w])){for(var I,x,C=-1,k=0;k<f.length;k++){-1!==(_=b.indexOf(f[k]))&&(-1===C||_<C)&&(C=_)}-1!==(x=-1===C?b.lastIndexOf(\"@\"):b.lastIndexOf(\"@\",C))&&(I=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(I)),C=-1;for(k=0;k<u.length;k++){var _;-1!==(_=b.indexOf(u[k]))&&(-1===C||_<C)&&(C=_)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||\"\";var Y=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!Y)for(var O=this.hostname.split(/\\./),X=(k=0,O.length);k<X;k++){var R=O[k];if(R&&!R.match(p)){for(var T=\"\",j=0,A=R.length;j<A;j++)R.charCodeAt(j)>127?T+=\"x\":T+=R[j];if(!T.match(p)){var P=O.slice(0,k),E=O.slice(k+1),L=R.match(v);L&&(P.push(L[1]),E.unshift(L[2])),E.length&&(b=\"/\"+E.join(\".\")+b),this.hostname=P.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),Y||(this.hostname=n.toASCII(this.hostname));var W=this.port?\":\"+this.port:\"\",F=this.hostname||\"\";this.host=F+W,this.href+=this.host,Y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==b[0]&&(b=\"/\"+b))}if(!d[M])for(k=0,X=c.length;k<X;k++){var G=c[k];if(-1!==b.indexOf(G)){var q=encodeURIComponent(G);q===G&&(q=escape(G)),b=b.split(G).join(q)}}var z=b.indexOf(\"#\");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var B=b.indexOf(\"?\");if(-1!==B?(this.search=b.substr(B),this.query=b.substr(B+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,B)):e&&(this.search=\"\",this.query={}),b&&(this.pathname=b),g[M]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){W=this.pathname||\"\";var K=this.search||\"\";this.path=W+K}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",i=this.pathname||\"\",n=this.hash||\"\",r=!1,s=\"\";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(r+=\":\"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&\"?\"+s||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||g[e])&&!1!==r?(r=\"//\"+(r||\"\"),i&&\"/\"!==i.charAt(0)&&(i=\"/\"+i)):r||(r=\"\"),n&&\"#\"!==n.charAt(0)&&(n=\"#\"+n),a&&\"?\"!==a.charAt(0)&&(a=\"?\"+a),e+r+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace(\"#\",\"%23\"))+n},r.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(o.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var i=new r,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];i[a]=this[a]}if(i.hash=t.hash,\"\"===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),l=0;l<h.length;l++){var c=h[l];\"protocol\"!==c&&(i[c]=t[c])}return g[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname=\"/\"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!g[t.protocol]){for(var u=Object.keys(t),f=0;f<u.length;f++){var p=u[f];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||m[t.protocol])i.pathname=t.pathname;else{for(var v=(t.pathname||\"\").split(\"/\");v.length&&!(t.host=v.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==v[0]&&v.unshift(\"\"),v.length<2&&v.unshift(\"\"),i.pathname=v.join(\"/\")}if(i.search=t.search,i.query=t.query,i.host=t.host||\"\",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var d=i.pathname||\"\",y=i.search||\"\";i.path=d+y}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var b=i.pathname&&\"/\"===i.pathname.charAt(0),S=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),w=S||b||i.host&&t.pathname,M=w,D=i.pathname&&i.pathname.split(\"/\")||[],I=(v=t.pathname&&t.pathname.split(\"/\")||[],i.protocol&&!g[i.protocol]);if(I&&(i.hostname=\"\",i.port=null,i.host&&(\"\"===D[0]?D[0]=i.host:D.unshift(i.host)),i.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===v[0]?v[0]=t.host:v.unshift(t.host)),t.host=null),w=w&&(\"\"===v[0]||\"\"===D[0])),S)i.host=t.host||\"\"===t.host?t.host:i.host,i.hostname=t.hostname||\"\"===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,D=v;else if(v.length)D||(D=[]),D.pop(),D=D.concat(v),i.search=t.search,i.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(I)i.hostname=i.host=D.shift(),(Y=!!(i.host&&i.host.indexOf(\"@\")>0)&&i.host.split(\"@\"))&&(i.auth=Y.shift(),i.host=i.hostname=Y.shift());return i.search=t.search,i.query=t.query,o.isNull(i.pathname)&&o.isNull(i.search)||(i.path=(i.pathname?i.pathname:\"\")+(i.search?i.search:\"\")),i.href=i.format(),i}if(!D.length)return i.pathname=null,i.search?i.path=\"/\"+i.search:i.path=null,i.href=i.format(),i;for(var x=D.slice(-1)[0],C=(i.host||t.host||D.length>1)&&(\".\"===x||\"..\"===x)||\"\"===x,k=0,_=D.length;_>=0;_--)\".\"===(x=D[_])?D.splice(_,1):\"..\"===x?(D.splice(_,1),k++):k&&(D.splice(_,1),k--);if(!w&&!M)for(;k--;k)D.unshift(\"..\");!w||\"\"===D[0]||D[0]&&\"/\"===D[0].charAt(0)||D.unshift(\"\"),C&&\"/\"!==D.join(\"/\").substr(-1)&&D.push(\"\");var Y,O=\"\"===D[0]||D[0]&&\"/\"===D[0].charAt(0);I&&(i.hostname=i.host=O?\"\":D.length?D.shift():\"\",(Y=!!(i.host&&i.host.indexOf(\"@\")>0)&&i.host.split(\"@\"))&&(i.auth=Y.shift(),i.host=i.hostname=Y.shift()));return(w=w||i.host&&D.length)&&!O&&D.unshift(\"\"),D.length?i.pathname=D.join(\"/\"):(i.pathname=null,i.path=null),o.isNull(i.pathname)&&o.isNull(i.search)||(i.path=(i.pathname?i.pathname:\"\")+(i.search?i.search:\"\")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,i){(function(t,n){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(r){e&&e.nodeType,t&&t.nodeType;var s=\"object\"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,l=36,c=1,u=26,f=38,p=700,v=72,d=128,m=\"-\",g=/^xn--/,y=/[^\\x20-\\x7E]/,b=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,S={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},w=l-c,M=Math.floor,D=String.fromCharCode;function I(t){throw new RangeError(S[t])}function x(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function C(t,e){var i=t.split(\"@\"),n=\"\";return i.length>1&&(n=i[0]+\"@\",t=i[1]),n+x((t=t.replace(b,\".\")).split(\".\"),e).join(\".\")}function k(t){for(var e,i,n=[],o=0,r=t.length;o<r;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<r?56320==(64512&(i=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),o--):n.push(e);return n}function _(t){return x(t,(function(t){var e=\"\";return t>65535&&(e+=D((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=D(t)})).join(\"\")}function Y(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,i){var n=0;for(t=i?M(t/p):t>>1,t+=M(t/e);t>w*u>>1;n+=l)t=M(t/w);return M(n+(w+1)*t/(t+f))}function X(t){var e,i,n,o,r,s,a,f,p,g,y,b=[],S=t.length,w=0,D=d,x=v;for((i=t.lastIndexOf(m))<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&I(\"not-basic\"),b.push(t.charCodeAt(n));for(o=i>0?i+1:0;o<S;){for(r=w,s=1,a=l;o>=S&&I(\"invalid-input\"),((f=(y=t.charCodeAt(o++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||f>M((h-w)/s))&&I(\"overflow\"),w+=f*s,!(f<(p=a<=x?c:a>=x+u?u:a-x));a+=l)s>M(h/(g=l-p))&&I(\"overflow\"),s*=g;x=O(w-r,e=b.length+1,0==r),M(w/e)>h-D&&I(\"overflow\"),D+=M(w/e),w%=e,b.splice(w++,0,D)}return _(b)}function R(t){var e,i,n,o,r,s,a,f,p,g,y,b,S,w,x,C=[];for(b=(t=k(t)).length,e=d,i=0,r=v,s=0;s<b;++s)(y=t[s])<128&&C.push(D(y));for(n=o=C.length,o&&C.push(m);n<b;){for(a=h,s=0;s<b;++s)(y=t[s])>=e&&y<a&&(a=y);for(a-e>M((h-i)/(S=n+1))&&I(\"overflow\"),i+=(a-e)*S,e=a,s=0;s<b;++s)if((y=t[s])<e&&++i>h&&I(\"overflow\"),y==e){for(f=i,p=l;!(f<(g=p<=r?c:p>=r+u?u:p-r));p+=l)x=f-g,w=l-g,C.push(D(Y(g+x%w,0))),f=M(x/w);C.push(D(Y(f,0))),r=O(i,S,n==o),i=0,++n}++i,++e}return C.join(\"\")}a={version:\"1.4.1\",ucs2:{decode:k,encode:_},decode:X,encode:R,toASCII:function(t){return C(t,(function(t){return y.test(t)?\"xn--\"+R(t):t}))},toUnicode:function(t){return C(t,(function(t){return g.test(t)?X(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return a}.call(e,i,e,t))||(t.exports=o)}()}).call(this,i(18)(t),i(19))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e,i){\"use strict\";t.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,i){\"use strict\";e.decode=e.parse=i(22),e.encode=e.stringify=i(23)},function(t,e,i){\"use strict\";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,r){e=e||\"&\",i=i||\"=\";var s={};if(\"string\"!=typeof t||0===t.length)return s;var a=/\\+/g;t=t.split(e);var h=1e3;r&&\"number\"==typeof r.maxKeys&&(h=r.maxKeys);var l=t.length;h>0&&l>h&&(l=h);for(var c=0;c<l;++c){var u,f,p,v,d=t[c].replace(a,\"%20\"),m=d.indexOf(i);m>=0?(u=d.substr(0,m),f=d.substr(m+1)):(u=d,f=\"\"),p=decodeURIComponent(u),v=decodeURIComponent(f),n(s,p)?o(s[p])?s[p].push(v):s[p]=[s[p],v]:s[p]=v}return s};var o=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},function(t,e,i){\"use strict\";var n=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};t.exports=function(t,e,i,a){return e=e||\"&\",i=i||\"=\",null===t&&(t=void 0),\"object\"==typeof t?r(s(t),(function(s){var a=encodeURIComponent(n(s))+i;return o(t[s])?r(t[s],(function(t){return a+encodeURIComponent(n(t))})).join(e):a+encodeURIComponent(n(t[s]))})).join(e):a?encodeURIComponent(n(a))+i+encodeURIComponent(n(t)):\"\"};var o=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function r(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var s=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},function(t,e,i){\"use strict\";i.r(e);var n=i(0),o=i.n(n),r=i(1),s=i.n(r),a=i(2),h=i.n(a),l=i(3),c=i.n(l),u=i(4),f=i.n(u),p=i(5),v=i.n(p),d=i(6),m=i.n(d),g=i(7),y=i.n(g),b=i(8),S=i.n(b),w=i(9),M=i.n(w),D=i(10),I=i.n(D),x=i(11),C=i.n(x),k=i(12),_=i.n(k);function Y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var O,X,R,T=function(){function t(e,i,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.xpos=e,this.ypos=i,this.velX=n,this.velY=o}var e,i,n;return e=t,(i=[{key:\"move\",value:function(t){var e=t/Object.FRAME_RATE_TIME_CHANGE;this.xpos=this.xpos+this.velX*e,this.ypos=this.ypos+this.velY*e}}])&&Y(e.prototype,i),n&&Y(e,n),t}();R=1e3/60,(X=\"FRAME_RATE_TIME_CHANGE\")in(O=T)?Object.defineProperty(O,X,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[X]=R;var j=T;function A(t){return(A=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function E(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function L(t,e){return!e||\"object\"!==A(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var z=function(t){function e(t){var i;return P(this,e),(i=L(this,W(e).call(this))).carImage=t.carImage,i.width=t.width+t.optLength,i.povToggled=t.povToggled,i.xpos=t.xpos+t.offset,i.ypos=t.ypos,i.velX=t.velX,i.velY=t.velY,i.optLength=t.optLength,i.height=t.height,i.playerCollision=!1,i.collidedWidthId=\"\",i.time=t.time,i.first=t.first,i.direction=t.direction,i.carImageY=i.getRandomCarPosition(),i.carDirection=i.direction===tt.FORWARD?128:640,i.id=\"\".concat(Math.round(Math.random()*i.xpos)).concat(Math.round(Math.random()*i.ypos)).concat(Math.round(i.time)),i.rotationSpeed=0,i.rotating=!1,i.rotateDirection=!1,i.setCenter(),i.handleKeys(),i.randomizeColor(),i.orbiting=!1,i}var i,n,o;return F(e,t),i=e,(n=[{key:\"getRandomCarPosition\",value:function(){return Math.floor(12*Math.random())/12*768}},{key:\"handleKeys\",value:function(){}},{key:\"beginOrbit\",value:function(t){this.orbiting=!0,this.centerOfOrbit=t}},{key:\"orbitDraw\",value:function(t,e){t.save(),t.translate(this.centerOfOrbit.xpos,this.centerOfOrbit.ypos),t.rotate(5*Math.PI/180),t.drawImage(e,this.carDirection,this.carImageY+13,60,35,0,0,this.width,this.height),t.restore()}},{key:\"orbitMove\",value:function(t,e){}},{key:\"stopOrbit\",value:function(){this.orbiting=!1}},{key:\"randomizeColor\",value:function(){var t=[h.a,m.a,s.a,f.a,v.a,y.a,S.a,M.a,I.a,C.a,_.a,c.a],e=Math.floor(12*Math.random());this.carColor=t[e]}},{key:\"setCenter\",value:function(){this.centerX=this.xpos+this.width/2,this.centerY=this.ypos+this.height/2}},{key:\"move\",value:function(t){var e=t/(1e3/60);Math.abs(this.velX)>3&&(this.velX=5*Math.sign(this.velX)),Math.abs(this.velY)>3&&(this.velY=5*Math.sign(this.velY)),this.ypos<.25*yt.Y_DIMS&&(this.ypos=.25*yt.Y_DIMS,this.velY=-1*this.velY),this.xpos+=this.velX*e,this.ypos+=this.velY*e,this.setCenter()}},{key:\"draw\",value:function(t){var e=new Image;e.src=this.carColor,t.beginPath(),!0===this.rotating?(this.rotateCarImage(this.rotateDirection),t.save(),t.translate(this.xpos,this.ypos),t.rotate(20*Math.PI/180),t.drawImage(e,this.carDirection,this.carImageY+13,60,35,0,0,this.width,this.height),t.restore()):t.drawImage(e,this.carDirection,this.carImageY+13,60,35,this.xpos,this.ypos,this.width,this.height),t.closePath()}},{key:\"rotateCarImage\",value:function(t){this.rotationSpeed+=1,t===e.CLOCKWISE&&3===this.rotationSpeed?(this.carDirection={0:64,64:128,128:192,192:256,256:320,320:384,384:448,448:512,512:576,576:640,640:704,704:768,768:832,832:896,896:0}[this.carDirection],this.rotationSpeed=0):t==e.COUNTERCLOCKWISE&&3===this.rotationSpeed&&(this.carDirection={0:896,64:0,128:64,192:128,256:192,320:256,384:320,448:384,512:448,576:512,640:576,704:640,768:704,832:768,896:832}[this.carDirection],this.rotationSpeed=0)}},{key:\"startRotateEvent\",value:function(t){var i=this;this.rotateDirection=1===t?e.CLOCKWISE:e.COUNTERCLOCKWISE,this.rotating=!0,setTimeout((function(){i.rotating=!1}),200)}},{key:\"togglePlayerCollision\",value:function(){var t=this;this.playerCollision=!0,setTimeout((function(){t.playerCollision=!1}),200)}}])&&E(i.prototype,n),o&&E(i,o),e}(j);q(z,\"CLOCKWISE\",\"CLOCKWISE\"),q(z,\"COUNTERCLOCKWISE\",\"COUNTERCLOCKWISE\");var B=function(t){function e(t){var i;return P(this,e),(i=L(this,W(e).call(this,t))).color=\"#7cfc00\",i.weight=500,i}return F(e,t),e}(z),K=function(t){function e(t){var i;return P(this,e),(i=L(this,W(e).call(this,t))).color=\"#565257\",i.weight=300,i}return F(e,t),e}(z),U=function(t){function e(t){var i;return P(this,e),(i=L(this,W(e).call(this,t))).color=\"#EDC9AF\",i.weight=100,i}return F(e,t),e}(z),N=i(13),V=i.n(N);function H(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var $=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.xpos=e.xpos,this.velX=-.15,this.width=.6*yt.X_DIMS}var e,i,n;return e=t,(i=[{key:\"move\",value:function(t){var e=t/(1e3/60);this.xpos+=this.velX*e}},{key:\"draw\",value:function(t){var e=new Image;e.src=V.a,t.beginPath(),t.drawImage(e,0,0,this.width,139,this.xpos,0,this.width,.25*yt.Y_DIMS),t.closePath()}}])&&H(e.prototype,i),n&&H(e,n),t}();function Z(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.width=.06*yt.X_DIMS,this.height=.066*yt.Y_DIMS,this.optLength=0,this.bgVel={x:-3,y:0},this.mgVel={x:-3,y:0},this.fgVel={x:-3,y:0},this.bgY=.35*yt.Y_DIMS,this.mgY=.6*yt.Y_DIMS,this.fgY=.85*yt.Y_DIMS,this.yOffset=.1*yt.Y_DIMS,this.game=e}var e,i,n;return e=t,(i=[{key:\"pushMoreRoads\",value:function(e){this.paths=this.generateLengthPojos(),this.generateRoads(this.paths[0],this.paths[1],this.paths[2],t.FORWARD,e)}},{key:\"pushMoreRevRoads\",value:function(e){this.revPaths=this.generateLengthPojos(),this.generateRoads(this.revPaths[0],this.revPaths[1],this.revPaths[2],t.BACKWARDS,e)}},{key:\"handleMovingBackground\",value:function(){var t=this.game.peicesToDraw.background[0],e=this.game.peicesToDraw.background[this.game.peicesToDraw.background.length-1];t.xpos+t.width<0&&(this.game.peicesToDraw.background.push(new $({xpos:e.xpos+e.width})),this.game.peicesToDraw.background.shift())}},{key:\"pushStartRoads\",value:function(){this.paths=this.generateLengthPojos(),this.revPaths=this.generateLengthPojos(),this.generateRoads(this.revPaths[0],this.revPaths[1],this.revPaths[2],t.BACKWARDS),this.generateRoads(this.paths[0],this.paths[1],this.paths[2],t.FORWARD),this.pushCityBackgrounds()}},{key:\"pushCityBackgrounds\",value:function(){for(var t=0;t<1.8*yt.X_DIMS;t+=.6*yt.X_DIMS)this.game.peicesToDraw.background.push(new $({xpos:t}))}},{key:\"generateRoads\",value:function(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.genRoad(B,this.bgVel,i,!1,o,this.bgY,n),this.genRoad(K,this.mgVel,e,!0,o,this.mgY,n),this.genRoad(U,this.fgVel,t,!1,o,this.fgY,n)}},{key:\"genRoad\",value:function(e,i,n,o,r,s,a){var h=a===t.FORWARD?0:n.length-this.width;t.BACKWARDS;for(var l=0;l<yt.X_DIMS;l+=this.width)if(n[l]){var c=void 0;c=l===h;var u={xpos:l,ypos:a===t.FORWARD?s:s-this.yOffset,velX:a===t.FORWARD?i.x:-i.x,velY:a===t.FORWARD?i.y:-i.y,width:this.width,optLength:this.optLength,height:this.height,povToggled:o,offset:0===r?0:a===t.FORWARD?yt.X_DIMS:-yt.X_DIMS,time:r,first:c,direction:a===t.FORWARD?t.FORWARD:t.BACKWARDS};a===t.FORWARD?this.game.forwardCars+=1:this.game.revCars+=1;var f=new e(u);this.game.peicesToDraw.paths[f.id]=f}}},{key:\"generateLengthPojos\",value:function(){for(var t=[[],[],[]],e=0;e<yt.X_DIMS;)for(var i=Math.round(2*Math.random()),n=0;n<this.width;n+=this.width){switch(i){case 0:t[0][e]=!0,t[1][e]=!1,t[2][e]=!1;break;case 1:t[0][e]=!1,t[1][e]=!0,t[2][e]=!1;break;case 2:t[0][e]=!1,t[1][e]=!1,t[2][e]=!0}e++}return t}},{key:\"povChange\",value:function(){}}])&&Z(e.prototype,i),n&&Z(e,n),t}();J(Q,\"FORWARD\",\"FORWARD\"),J(Q,\"BACKWARDS\",\"BACKWARDS\");var tt=Q,et=i(14),it=i.n(et);function nt(t){return(nt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ot(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=function(t){function e(t){var i,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=this,(i=!(o=rt(e).call(this))||\"object\"!==nt(o)&&\"function\"!=typeof o?st(n):o).game=t,i.height=.045*yt.Y_DIMS,i.width=.0225*yt.X_DIMS,i.xpos=yt.X_DIMS/2,i.ypos=yt.Y_DIMS-i.height,i.velX=0,i.velY=0,i.color=\"red\",i.playerCollision=!0,i.handleKeys.bind(st(i))(),i.animationX=0,i.animationY=210,i.animationCounter=0,i.animationDirection=\"down\",i.setCenter(),i.collisionCount=0,i.collisionReductionModifier=10,i.health=200,i.collisionMeterFull=!1,i}var i,n,o;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,t),i=e,(n=[{key:\"pushAllCarsBack\",value:function(){for(var t in this.game.peicesToDraw.paths){var e=this.game.peicesToDraw.paths[t],i=this.game.getCollisionModifier(this,e);e.velX+=100*i[0],e.velY+=100*i[1]}this.collisionCount=0,this.collisionMeterFull=!1}},{key:\"startOrbitingCars\",value:function(){for(var t in this.game.peicesToDraw.paths)this.game.peicesToDraw.paths[t].beginOrbit(this)}},{key:\"updateCollisionCount\",value:function(){this.collisionCount/this.collisionReductionModifier<=.2*yt.X_DIMS?this.collisionCount+=1:this.collisionMeterFull=!0}},{key:\"drawCollisionMeter\",value:function(t){t.fillStyle=\"orange\",t.fillRect(.75*yt.X_DIMS,.95*yt.Y_DIMS,this.collisionCount/this.collisionReductionModifier,.024*yt.Y_DIMS),t.strokeRect(.75*yt.X_DIMS,.95*yt.Y_DIMS,.2*yt.X_DIMS,.025*yt.Y_DIMS)}},{key:\"drawHealthMeter\",value:function(t){t.fillStyle=\"green\",t.fillRect(.75*yt.X_DIMS,.015*yt.Y_DIMS,this.health,.024*yt.Y_DIMS),t.strokeRect(.75*yt.X_DIMS,.015*yt.Y_DIMS,.2*yt.X_DIMS,.025*yt.Y_DIMS),t.font=\"\".concat(30,\"px Arial\"),t.fillStyle=\"Orange\",t.fillText(\"Level \".concat(this.game.progressLevel),.05*yt.X_DIMS,.05*yt.Y_DIMS)}},{key:\"setCenter\",value:function(){this.centerX=this.xpos+this.width/2,this.centerY=this.ypos+this.height/2}},{key:\"handleKeys\",value:function(){var t=this;document.addEventListener(\"keydown\",(function(e){switch(e.keyCode){case 65:t.animationY=255,t.velX<3&&(t.velX=-.15,t.velY=0);break;case 68:t.animationY=305,t.velX>-2&&(t.velX=.15,t.velY=0);break;case 87:t.animationY=355,t.velY>-2&&(t.velY=-.15,t.velX=0);break;case 83:t.animationY=210,t.velY<2&&(t.velY=.15,t.velX=0)}})),document.addEventListener(\"keyup\",(function(e){87===e.keyCode||83===e.keyCode?t.velY=0:65!==e.keyCode&&68!==e.keyCode||(t.velX=0)}))}},{key:\"move\",value:function(t){var e=t/(1e3/60);this.ypos+this.height>yt.Y_DIMS?(this.ypos=yt.Y_DIMS-this.height,this.setCenter(),this.velY=0):this.ypos<.25*yt.Y_DIMS?(this.ypos=.25*yt.Y_DIMS,this.setCenter()):this.xpos+this.width>yt.X_DIMS?(this.xpos=yt.X_DIMS-this.width,this.setCenter()):this.xpos<0?(this.xpos=0,this.setCenter()):(this.ypos+=this.velY*e,this.xpos+=this.velX*e,this.setCenter())}},{key:\"orbit\",value:function(){}},{key:\"draw\",value:function(t){this.idle();var e=new Image;e.src=it.a,t.drawImage(e,this.animationX,this.animationY,35,35,this.xpos,this.ypos,this.width,this.height),this.drawHealthMeter(t)}},{key:\"idle\",value:function(){10===this.animationCounter&&(this.animationX={0:50,50:100,100:0}[this.animationX],this.animationCounter=0),this.animationCounter+=1}}])&&ot(i.prototype,n),o&&ot(i,o),e}(j);function lt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ct=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.game=i,this.x=e.x,this.y=e.y,this.fxn=e.fxn,this.width=e.width,this.height=e.height,this.text=e.text,this.fontSize=e.fontSize,this.color=\"black\",this.optText=e.optText,this.canvas=document.querySelector(\"canvas\"),this.handleClick=this.handleClick.bind(this),this.canvas.addEventListener(\"mouseup\",this.handleClick)}var e,i,n;return e=t,(i=[{key:\"handleClick\",value:function(t){if(!1===this.game.resumeGame){var e=this.canvas.getBoundingClientRect(),i=t.clientX-e.left,n=t.clientY-e.top;i>this.x&&i<this.x+this.width&&n>this.y&&n<this.y+this.height&&this.fxn()}this.canvas.removeEventListener(\"mouseup\",this.handleClick),t.stopPropagation()}},{key:\"draw\",value:function(t){t.font=\"\".concat(this.fontSize,\"px Arial\"),t.fillStyle=\"Teal\",t.fillText(!1===this.game.gameStarted?this.text:this.optText,this.x,this.y+this.fontSize)}}])&&lt(e.prototype,i),n&&lt(e,n),t}();function ut(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ft=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.game=e,this.top=.2*yt.Y_DIMS,this.left=.2*yt.X_DIMS,this.textX=.3*yt.X_DIMS,this.fontSize=.1*yt.Y_DIMS,this.listenForMenu()}var e,i,n;return e=t,(i=[{key:\"listenForMenu\",value:function(){var t=this;document.querySelector(\"canvas\"),document.addEventListener(\"keydown\",(function(e){13===e.keyCode&&(t.resumeGame(),t.makeButtons())}))}},{key:\"makeButtons\",value:function(){this.start=new ct({x:this.textX,y:.5*yt.Y_DIMS,fxn:this.resumeGame.bind(this),width:150,height:50,text:\"Start\",fontSize:.05*yt.Y_DIMS,optText:\"Resume\"},this.game)}},{key:\"makeNextLevButton\",value:function(){this.nextLevel=new ct({x:this.textX,y:.7*yt.Y_DIMS,fxn:this.resetGame.bind(this),width:150,height:50,text:\"Next Level\",fontSize:.05*yt.Y_DIMS,optText:\"Next Level\"},this.game)}},{key:\"resetGame\",value:function(){this.game.nextLevel()}},{key:\"restart\",value:function(){this.game.restartGame()}},{key:\"makeRestartButton\",value:function(){this.restartGame=new ct({x:this.textX,y:.6*yt.Y_DIMS,fxn:this.restart.bind(this),width:150,height:70,text:\"Restart\",fontSize:.05*yt.Y_DIMS,optText:\"Restart\"},this.game)}},{key:\"resumeGame\",value:function(){!1===this.game.gameStarted&&(this.game.gameStarted=!0),!1===this.game.resumeGame?this.game.resumeGame=!0:this.game.resumeGame=!1}},{key:\"pauseGame\",value:function(){this.game.resumeGame=!1}},{key:\"draw\",value:function(t){!0===this.game.lost&&!0===this.game.gameOver?(t.save(),t.fillStyle=\"rgba(173, 216, 230, 0.95)\",t.fillRect(this.left,this.top,.6*yt.X_DIMS,.6*yt.Y_DIMS),t.font=\"\".concat(this.fontSize,\"px Arial\"),t.fillStyle=\"black\",t.fillText(\"GAME OVER\",this.left+.1*yt.X_DIMS,this.top+this.fontSize),t.fillText(\"Level \".concat(this.game.progressLevel),this.left+.1*yt.X_DIMS,this.top+2.5*this.fontSize),t.restore(),this.makeRestartButton(),this.restartGame.draw(t)):!1===this.game.lost&&!0===this.game.gameOver?(this.makeNextLevButton(),t.save(),t.fillStyle=\"rgba(173, 216, 230, 0.95)\",t.fillRect(this.left,this.top,.6*yt.X_DIMS,.6*yt.Y_DIMS),t.font=\"\".concat(.8*this.fontSize,\"px Arial\"),t.fillStyle=\"black\",t.fillText(\"Congrats\",this.left+.1*yt.X_DIMS,this.top+this.fontSize),t.fillText(\"Level \".concat(this.game.progressLevel,\" Complete!\"),this.left+.1*yt.X_DIMS,this.top+2*this.fontSize),t.restore(),this.nextLevel.draw(t)):(t.save(),t.fillStyle=\"rgba(173, 216, 230, 0.75)\",t.fillRect(this.left,2*this.top,.6*yt.X_DIMS,.3*yt.Y_DIMS),t.font=\"\".concat(this.fontSize,\"px Arial\"),t.fillStyle=\"black\",t.restore(),t.save(),t.font=\"\".concat(20,\"px Arial\"),t.fillText(\"Press Enter To Begin, or Pause\",this.left+.25*yt.X_DIMS,this.top+2*this.fontSize+.05*yt.Y_DIMS*3),this.makeButtons(),t.restore(),this.start.draw(t))}}])&&ut(e.prototype,i),n&&ut(e,n),t}(),pt=i(15),vt=i.n(pt);function dt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var gt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.peicesToDraw={paths:{},player:\"\",background:[]},this.resumeGame=!1,this.addPlayer(),this.recipientSpeedMod=1.5,this.colliderSpeedMod=.5,this.collisions=0,this.music=!0,this.gameStarted=!1,this.forwardCars=0,this.revCars=0,this.level=new tt(this),this.level.pushStartRoads(),this.menu=new ft(this),this.gameOver=!1,this.lost=!1,this.progressLevel=1}var e,i,n;return e=t,(i=[{key:\"clearLevel\",value:function(){this.peicesToDraw.paths={},this.forwardCars=0,this.revCars=0,this.peicesToDraw.player=\"\",this.peicesToDraw.background=[],this.addPlayer(),this.level.pushStartRoads()}},{key:\"restartGame\",value:function(){this.clearLevel(),this.progressLevel=1,this.gameStarted=!1,this.resumeGame=!0,this.lost=!1,this.level.bgVel.x=-3,this.level.fgVel.x=-3,this.level.mgVel.x=-3}},{key:\"nextLevel\",value:function(){this.progressLevel+=1,this.progressLevel%2==0?(this.level.bgVel.x*=1.5,this.level.fgVel.x*=1.5):this.level.mgVel.x*=1.5,this.gameOver=!1,this.resumeGame=!0,this.clearLevel()}},{key:\"startGameMusic\",value:function(){var t=new Audio(\"../src/GameMusic.ogg\");t.addEventListener(\"ended\",(function(){t.currentTime=0,t.play()})),t.play()}},{key:\"addPlayer\",value:function(){this.peicesToDraw.player=new ht(this)}},{key:\"colorBackground\",value:function(e){var i=new Image;i.src=vt.a,e.drawImage(i,0,0,600,600,0,0,.5*t.X_DIMS,t.Y_DIMS),e.drawImage(i,0,0,600,600,.5*t.X_DIMS,0,.5*t.X_DIMS,t.Y_DIMS),e.fillStyle=\"#5C5E58\",e.fillRect(0,.28*t.Y_DIMS,t.X_DIMS,.15*t.Y_DIMS),e.fillRect(0,.52*t.Y_DIMS,t.X_DIMS,.15*t.Y_DIMS),e.fillRect(0,.77*t.Y_DIMS,t.X_DIMS,.15*t.Y_DIMS),e.fillRect(t.X_DIMS/2,t.Y_DIMS-.055*t.Y_DIMS,.0325*t.X_DIMS,.055*t.Y_DIMS);var n=new Image;n.src=o.a,e.drawImage(n,0,0,480,160,0,0,t.X_DIMS,.2*t.Y_DIMS),e.fillStyle=\"#807E78\"}},{key:\"step\",value:function(e){if(!1===this.resumeGame);else{for(var i in this.level.handleMovingBackground(),this.checkForPlatformCollisions(),this.peicesToDraw.paths){this.peicesToDraw.player.move(e);var n=this.peicesToDraw.paths[i];n.xpos+n.width<=0||n.ypos+n.width<=0||n.xpos>t.X_DIMS||n.ypos>t.Y_DIMS?(this.forwardCars<=t.X_DIMS/this.level.width?this.level.pushMoreRoads(e):this.revCars<=t.X_DIMS/this.level.width&&this.level.pushMoreRevRoads(e),n.direction===tt.FORWARD?this.forwardCars--:this.revCars--,delete this.peicesToDraw.paths[i]):n.move(e)}this.peicesToDraw.background.forEach((function(t){return t.move(e)}))}this.checkPlayerGameOver()}},{key:\"checkPlayerGameOver\",value:function(){var e=this.peicesToDraw.player;e.health<=0&&(this.lost=!0,this.gameOver=!0,this.resumeGame=!1),e.ypos<=.25*t.Y_DIMS+.01*e.height&&(this.gameOver=!0,this.resumeGame=!1)}},{key:\"checkForPlatformCollisions\",value:function(){var e=this.peicesToDraw.player;for(var i in this.peicesToDraw.paths){var n=this.peicesToDraw.paths[i];for(var o in this.peicesToDraw.paths){var r=this.peicesToDraw.paths[o];if(n.id!==r.id&&!0===this.checkCollision(n,r)&&n.colllidedWithId!==r.id&&r.colllidedWithId!==n.id){var s=this.getCollisionModifier(n,r),a=void 0,h=void 0;Math.abs(n.velX)+Math.abs(n.velY)>Math.abs(r.velX)+Math.abs(r.velY)?(a=n,h=r):(a=r,h=n),!0===a.playerCollision?(h.velY=(h.velY+a.velY)*s[1]*this.recipientSpeedMod,a.velY=(a.velY-h.velY)*this.colliderSpeedMod,h.velX=(h.velX+a.velX)*s[0]*this.recipientSpeedMod,a.velX=(a.velX-h.velX)*this.colliderSpeedMod,h.togglePlayerCollision(),h.colllidedWithId=a.id,a.colllidedWithId=h.id,h.startRotateEvent(s[3]),this.collisions+=1,e.updateCollisionCount()):!0===h.playerCollision&&(h.velY=(h.velY+a.velY)*s[1]*this.recipientSpeedMod,a.velY=(a.velY-h.velY)*this.colliderSpeedMod,h.velX=(h.velX+a.velX)*s[0]*this.recipientSpeedMod,a.velY=(a.velY-h.velY)*this.colliderSpeedMod,h.color=\"green\",a.color=\"blue\",a.togglePlayerCollision(),h.colllidedWithId=a.id,a.colllidedWithId=h.id,h.startRotateEvent(s[3]),this.collisions+=1,e.updateCollisionCount())}}if(this.checkCollision(e,n)){var l=this.getCollisionModifier(e,n);n.color=\"blue\",e.color=\"blue\",n.velX=0,n.velY=0,n.velX+=3*l[0],n.velY+=3*l[1],n.togglePlayerCollision(),n.colllidedWithId=\"\",n.startRotateEvent(l[3]),this.collisions+=1,e.updateCollisionCount(),e.health-=10}else setTimeout((function(){e.color=\"red\"}),1e4);!0===n.rotating&&(n.xpos+n.width>t.X_DIMS?(n.xpos=t.X_DIMS-n.width,n.setCenter(),n.velX=-1*n.velX):n.xpos<0?(n.xpos=0,n.setCenter(),n.velX=-1*n.velX):n.ypos+n.height>t.Y_DIMS?(n.ypos=t.Y_DIMS-n.height,n.setCenter(),n.velY=-1*n.velY):n.ypos<.2*t.Y_DIMS&&(n.ypos=.2*t.Y_DIMS,n.setCenter(),n.velY=-1*n.velY))}}},{key:\"checkCollision\",value:function(t,e){return Math.abs(t.centerX-e.centerX)<(e.width+t.width)/2&&Math.abs(t.centerY-e.centerY)<(t.height+e.height)/2&&(!0===t.playerCollision||!0===e.playerCollision)}},{key:\"getCollisionModifier\",value:function(t,e){switch((t.centerX>e.centerX?\"Xtrue\":\"Xfalse\")+(t.centerY>e.centerY?\"true\":\"Yfalse\")){case\"Xtruetrue\":return[-1,-1,0];case\"XtrueYfalse\":return[-1,1,1];case\"Xfalsetrue\":return[1,-1,1];case\"XfalseYfalse\":return[1,1,0]}}}])&&dt(e.prototype,i),n&&dt(e,n),t}();mt(gt,\"Y_DIMS\",700),mt(gt,\"X_DIMS\",1e3);var yt=gt;i(16);function bt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var St=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.game=e,this.ctx=i,this.fontSize=Math.round(18*yt.X_DIMS/800)}var e,i,n;return e=t,(i=[{key:\"draw\",value:function(t){for(var e in this.ctx.clearRect(0,0,yt.X_DIMS,yt.Y_DIMS),this.game.colorBackground(t),this.game.peicesToDraw.background.forEach((function(e){return e.draw(t)})),this.game.peicesToDraw.paths)this.game.peicesToDraw.paths[e].draw(t);this.game.peicesToDraw.player.draw(t),t.fillStyle=\"black\",!1===this.game.resumeGame&&this.game.menu.draw(t)}},{key:\"begin\",value:function(){this.previousTime=0,requestAnimationFrame(this.animate.bind(this))}},{key:\"animate\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=t-this.previousTime;this.game.step(e),this.draw(this.ctx),this.previousTime=t,requestAnimationFrame(this.animate.bind(this))}}])&&bt(e.prototype,i),n&&bt(e,n),t}();document.addEventListener(\"DOMContentLoaded\",(function(){var t=document.querySelector(\"canvas\");t.width=yt.X_DIMS,t.height=yt.Y_DIMS;var e=t.getContext(\"2d\"),i=new yt;new St(i,e).begin()}))}]);","extractedComments":[]}